<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Lizard Cursor Follower</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: black;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
<canvas id="canvas"></canvas>
<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let mouse = { x: canvas.width/2, y: canvas.height/2 };

document.addEventListener("mousemove", e => {
  mouse.x = e.clientX;
  mouse.y = e.clientY;
});

// Build spine points
const segments = [];
const numSegments = 60;
const segLength = 15;

for (let i = 0; i < numSegments; i++) {
  segments.push({ x: mouse.x, y: mouse.y });
}

function update() {
  // head moves toward cursor
  segments[0].x += (mouse.x - segments[0].x) * 0.2;
  segments[0].y += (mouse.y - segments[0].y) * 0.2;

  // rest follows
  for (let i = 1; i < segments.length; i++) {
    let dx = segments[i].x - segments[i-1].x;
    let dy = segments[i].y - segments[i-1].y;
    let dist = Math.sqrt(dx*dx + dy*dy);
    if (dist > segLength) {
      let angle = Math.atan2(dy, dx);
      segments[i].x = segments[i-1].x + Math.cos(angle) * segLength;
      segments[i].y = segments[i-1].y + Math.sin(angle) * segLength;
    }
  }
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.strokeStyle = "white";
  ctx.lineWidth = 2;

  // Draw spine as a continuous curve
  ctx.beginPath();
  ctx.moveTo(segments[0].x, segments[0].y);
  for (let i = 1; i < segments.length; i++) {
    ctx.lineTo(segments[i].x, segments[i].y);
  }
  ctx.stroke();

  // Draw legs at intervals
  for (let i = 5; i < segments.length; i += 8) {
    const a = segments[i-1];
    const b = segments[i];
    let angle = Math.atan2(b.y - a.y, b.x - a.x);

    const legLength = 25;
    ctx.beginPath();
    ctx.moveTo(b.x, b.y);
    ctx.lineTo(b.x + Math.cos(angle + Math.PI/2) * legLength,
               b.y + Math.sin(angle + Math.PI/2) * legLength);
    ctx.moveTo(b.x, b.y);
    ctx.lineTo(b.x + Math.cos(angle - Math.PI/2) * legLength,
               b.y + Math.sin(angle - Math.PI/2) * legLength);
    ctx.stroke();
  }
}

function animate() {
  update();
  draw();
  requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
