<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Presence</title>

<style>
  :root{
    /* initial theme (gets updated per slide) */
    --c1: #8a2be2;    /* neon violet */
    --c2: #00c8ff;    /* cyan */
    --c3: #ff4b9e;    /* pink */
    --bg1:#fdfcff;    /* DEEP BACKDROP (LIGHT) */
    --bg2:#f5f4f7;    /* BACKDROP (LIGHT) */
  }

  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    background: radial-gradient(1200px 800px at 50% 60%, var(--bg2), var(--bg1));
    overflow:hidden;
    font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:#334; /* DARK TEXT */
  }

  /* === NEW: STARFIELD BACKGROUND === */
  /* This creates the deep, parallax scrolling star effect */
  /* REMOVED STARFIELD CSS */

  /* === BACKGROUND LAYER (neon abstract blobs) === */
  #bg{
    position:fixed; inset:0; z-index:1;
  /* We use 3 layers for a parallax effect */
  .stars{
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    width: 100%; height: 100%;
    display: block;
    z-index: 0; /* Behind everything */
  }
  
  #stars1{
    width: 1px; height: 1px; background: transparent;
    animation: animStar 100s linear infinite;
    /* A tiny, dense star layer */
    box-shadow: 
      734px 1762px #fff, 110px 1378px #fff, 1774px 1198px #fff, 1330px 1018px #fff, 356px 1788px #fff, 
      1262px 1354px #fff, 1722px 1488px #fff, 1700px 1948px #fff, 1084px 1336px #fff, 24px 1114px #fff, 
      1702px 1294px #fff, 1500px 718px #fff, 1000px 722px #fff, 84px 1256px #fff, 552px 1478px #fff, 
      1032px 1074px #fff, 116px 1438px #fff, 1718px 1204px #fff, 152px 1138px #fff, 1906px 368px #fff, 
      1128px 1384px #fff, 1828px 1054px #fff, 1952px 1608px #fff, 7px 1152px #fff, 1114px 1734px #fff, 
      666px 1198px #fff, 1024px 342px #fff, 1188px 1486px #fff, 1980px 1298px #fff, 1878px 1084px #fff, 
      1742px 1332px #fff, 1090px 1604px #fff, 1262px 1248px #fff, 1404px 1462px #fff, 1372px 1802px #fff, 
      1266px 198px #fff, 1828px 1864px #fff, 90px 1156px #fff, 1410px 1748px #fff, 1512px 1162px #fff, 
      1666px 426px #fff, 1378px 1014px #fff, 1826px 938px #fff, 1060px 1028px #fff, 1084px 76px #fff;
  }
  
  #stars2{
    width: 2px; height: 2px; background: transparent;
    animation: animStar 70s linear infinite;
    /* A medium, slightly faster layer */
    box-shadow: 
      1144px 1588px #fff, 1184px 1394px #fff, 1528px 266px #fff, 1930px 1434px #fff, 1100px 1702px #fff, 
      1628px 1564px #fff, 888px 1106px #fff, 1928px 1068px #fff, 788px 1598px #fff, 1122px 1500px #fff, 
      22px 1720px #fff, 546px 1408px #fff, 1038px 1214px #fff, 1664px 832px #fff, 1684px 1802px #fff, 
      1590px 1308px #fff, 1002px 1184px #fff, 1632px 1622px #fff, 68px 1112px #fff, 1502px 1452px #fff, 
      180px 1256px #fff, 1406px 1176px #fff, 1228px 1318px #fff, 394px 1692px #fff, 110px 1902px #fff, 
      1314px 1464px #fff, 1934px 1672px #fff, 190px 1916px #fff, 1672px 1518px #fff, 1640px 1014px #fff;
  }
  
  #stars3{
    width: 3px; height: 3px; background: transparent;
    animation: animStar 50s linear infinite;
    /* A large, "closer" layer */
    box-shadow: 
      1028px 1146px #fff, 1716px 1274px #fff, 1496px 1114px #fff, 1382px 1980px #fff, 1494px 186px #fff, 
      902px 732px #fff, 1376px 1186px #fff, 1584px 44px #fff, 474px 1022px #fff, 100px 1432px #fff, 
      1178px 1782px #fff, 434px 504px #fff, 1878px 1658px #fff, 862px 1552px #fff, 1300px 1556px #fff, 
      1182px 1294px #fff, 1146px 138px #fff, 1726px 1862px #fff, 138px 302px #fff, 510px 1670px #fff;
  }

  /* === BACKGROUND LAYER (neon abstract blobs) === */
  #bg{
    position:fixed; inset:0; z-index:1; /* Moved up */
    overflow:hidden; pointer-events:none;
  }
  .blob{
    position:absolute; width:52vmin; height:52vmin; border-radius:50%;
    filter: blur(70px) saturate(130%);
    opacity:.65; /* ADJUSTED OPACITY */
    mix-blend-mode:multiply; /* CHANGED BLEND MODE */
    will-change: transform;
  }
  /* REMOVED COLOR-MIX FOR BRIGHTER BLOBS */
  .b1{ background: radial-gradient(circle at 30% 30%, var(--c1), transparent 65%); }
  .b2{ background: radial-gradient(circle at 60% 40%, var(--c2), transparent 65%); }
  .b3{ background: radial-gradient(circle at 50% 60%, var(--c3), transparent 65%); }

  /* Motion */
  @keyframes floatA { 0%{transform:translate(-10%, -6%) scale(1)} 50%{transform:translate(5%, -12%) scale(1.18)} 100%{transform:translate(-8%, 8%) scale(0.96)} }
  @keyframes floatB { 0%{transform:translate(10%, 8%)  scale(1.05)} 50%{transform:translate(-4%, -6%) scale(1.22)} 100%{transform:translate(8%, 12%)  scale(0.92)} }
  @keyframes floatC { 0%{transform:translate(0%, 0%)    scale(0.95)} 50%{transform:translate(8%, 10%)  scale(1.12)} 100%{transform:translate(-6%, -8%) scale(1)} }

  .b1{ left:-10vmin; top:-8vmin;  animation:floatA 22s ease-in-out infinite alternate; }
  .b2{ right:-12vmin; top:10vmin; animation:floatB 18s ease-in-out infinite alternate-reverse; }
  .b3{ left:15vmin; bottom:-12vmin; animation:floatC 26s ease-in-out infinite alternate; }

  /* REMOVED VIGNETTE */

  /* === SLIDES === */
  .slide{
    position:fixed; inset:0; z-index:3; /* Z-INDEX UP */
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    padding: clamp(16px, 4vw, 32px);
    text-align:center;
    opacity:0; transform:translateY(24px) scale(.995);
    transition: opacity .6s ease, transform .6s ease;
    pointer-events:none;
  }
  .slide.active{ opacity:1; transform:translateY(0) scale(1); pointer-events:auto; }

  .title{
    font-weight:700;
    font-size: clamp(24px, 5vw, 44px);
    letter-spacing:.2px;
    text-shadow: 0 0 18px rgba(0,0,0,.15); /* LIGHTER SHADOW */
  }

  /* === NEW: Animated Title Letters === */
  .title .letter {
    display: inline-block;
    /* Base state (hidden) */
    transform: translateY(30px) scale(0.9);
    opacity: 0;
    filter: blur(4px);
    /* Animation */
    transition: all 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    /* Delay is set per-letter by JS */
    transition-delay: var(--delay);
  }
  .slide.active .title .letter {
    /* Active state (visible) */
    transform: translateY(0) scale(1);
    opacity: 1;
    filter: blur(0);
  }

  .line{
    margin-top: clamp(8px, 2.2vh, 16px);
    max-width: 860px;
    font-size: clamp(16px, 2.2vw, 22px);
    line-height: 1.7;
    color: #556; /* DARKER TEXT */
    text-shadow: 0 0 14px rgba(0,0,0,.1); /* LIGHTER SHADOW */
    padding-inline: clamp(6px, 2vw, 12px);
    
    /* === NEW: Line Animation === */
    opacity: 0;
    transform: translateY(20px);
    /* Delay this until *after* the title letters start appearing */
    transition: opacity 0.7s ease 0.5s, transform 0.7s ease 0.5s;
  }
  .slide.active .line {
    opacity: 1;
    transform: translateY(0);
  }

  /* Bottom actions */
  .actions{
    position: fixed; left: 0; right: 0; bottom: clamp(16px, 4vh, 36px); z-index:4; /* Z-INDEX UP */
    display:flex; justify-content:center; pointer-events:none;
  }
  .btn{
    pointer-events:auto;
    padding: 12px 28px;
    border:1px solid rgba(0,0,0,.08); /* DARKER BORDER */
    color:#222; background: rgba(0,0,0,.05); /* DARKER TEXT, LIGHT BG */
    border-radius: 999px; cursor:pointer;
    font-size: 16px;
    backdrop-filter: blur(10px);
    box-shadow: 0 10px 30px rgba(0,0,0,.1), inset 0 0 12px rgba(255,255,255,.3); /* UPDATED SHADOW */
    transition: transform .15s ease, background .2s ease, border-color .2s ease, box-shadow .2s ease;
    
    /* === NEW: For Button Shine === */
    position: relative;
    overflow: hidden;
  }
  .btn:hover{ transform: translateY(-1px); background: rgba(0,0,0,.08); border-color: rgba(0,0,0,.12); } /* UPDATED HOVER */
  .btn:active{ transform: translateY(1px); }

  /* === NEW: Button Shine Effect === */
  .btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%; /* Start off-screen */
    width: 75%;
    height: 100%;
    /* A soft, angled gradient */
    background: linear-gradient(100deg, rgba(255,255,255,0) 10%, rgba(255,255,255,.5) 50%, rgba(255,255,255,0) 80%); /* UPDATED SHINE */
    transform: skewX(-20deg);
    transition: left .6s ease-in-out;
  }
  .btn:hover::before {
    left: 120%; /* Animate across and off-screen */
  }


  /* Crossfade tint on slide change */
  #fade{
    position:fixed; inset:0; z-index:5; /* Z-INDEX UP */
    background: rgba(255, 255, 255, .5); /* LIGHT FADE */
    opacity:0; pointer-events:none;
    transition: opacity .35s ease;
  }

  /* NEW: Particle Canvas Style */
  #particle-canvas {
    position: fixed;
    inset: 0;
    z-index: 2; /* Between blobs (1) and content (3) */
    pointer-events: none; /* Let mouse events pass through */
  }

  /* Safe area spacing for very small phones */
  @media (max-height: 640px){
    .line{ line-height:1.55 }
    .actions{ bottom: 12px; }
  }
</style>
</head>
<body>

<!-- REMOVED Starfield -->

<!-- Neon Abstract Background -->
<div id="bg">
  <div class="blob b1"></div>
  <div class="blob b2"></div>
  <div class="blob b3"></div>
</div>
<!-- REMOVED Vignette -->

<!-- NEW: Interactive Particle Canvas -->
<canvas id="particle-canvas"></canvas>

<!-- Slides -->
<section class="slide active" data-theme="0">
  <h1 class="title">If Your Presence Were a Place…</h1>
  <p class="line">A small, fullscreen journey — not about who you are, but about the quiet places your presence feels like.</p>
</section>

<section class="slide" data-theme="1">
  <h1 class="title">01</h1>
  <p class="line">the corner seat of a peaceful café — warm, calm, instantly comfortable.</p>
</section>

<section class="slide" data-theme="2">
  <h1 class="title">02</h1>
  <p class="line">a balcony at 6:40 AM — quiet air, soft light, a fresh start.</p>
</section>

<section class="slide" data-theme="3">
  <h1 class="title">03</h1>
  <p class="line">the calm aisle of a bookstore — peaceful, steady, thoughtful.</p>
</section>

<section class="slide" data-theme="4">
  <h1 class="title">04</h1>
  <p class="line">the warm side of winter sunlight — gentle warmth without noise.</p>
</section>

<section class="slide" data-theme="5">
  <h1 class="title">05</h1>
  <p class="line">a garden walkway at 5 PM — soft, grounding, beautifully slow.</p>
</section>

<section class="slide" data-theme="6">
  <h1 class="title">06</h1>
  <p class="line">a quiet room where everything suddenly makes sense again.</p>
</section>

<section class="slide" data-theme="7">
  <h1 class="title">Happy Birthday</h1>
  <p class="line">You’re not a place — but you make places feel different in the best way.</p>
</section>

<!-- Controls -->
<div class="actions">
  <button class="btn" id="nextBtn">Next →</button>
</div>

<!-- Crossfade -->
<div id="fade"></div>

<script>
  // Slides + crossfade
  const slides = [...document.querySelectorAll('.slide')];
  const fade = document.getElementById('fade');
  const nextBtn = document.getElementById('nextBtn');
  let i = 0;

  // Per-slide color themes (neon palette triplets)
  const themes = [
    ['#8a2be2', '#00c8ff', '#ff4b9e'], // intro
    ['#ff7ad9', '#7ad9ff', '#ffd36e'],
    ['#7c7bff', '#54ffd9', '#ff7a9e'],
    ['#64a8ff', '#b57aff', '#ff8f66'],
    ['#78ffd6', '#7aa2ff', '#ff66c4'],
    ['#a47bff', '#66ffe2', '#ffbd6e'],
    ['#6ee7ff', '#b380ff', '#ff6ea6'],
    ['#8a2be2', '#00c8ff', '#ff4b9e']  // outro echo
  ];

  function applyTheme(idx){
    const [c1,c2,c3] = themes[idx] || themes[0];
    document.documentElement.style.setProperty('--c1', c1);
    document.documentElement.style.setProperty('--c2', c2);
    document.documentElement.style.setProperty('--c3', c3);
  }
  applyTheme(0);

  function show(n){
    slides[i].classList.remove('active');
    i = Math.max(0, Math.min(n, slides.length-1));
    slides[i].classList.add('active');
    applyTheme(i);
    // Update button label
    nextBtn.textContent = (i === slides.length-1) ? 'Replay ↺' : 'Next →';
  }

  function next(){
    fade.style.opacity = 1;
    setTimeout(()=>{
      if(i === slides.length-1){ show(0); } else { show(i+1); }
      setTimeout(()=>{ fade.style.opacity = 0; }, 280);
    }, 280);
  }

  nextBtn.addEventListener('click', next);

  // Keyboard and swipe
  window.addEventListener('keydown', e=>{
    if(['ArrowRight','Enter',' '].includes(e.key)){ e.preventDefault(); next(); }
    if(e.key==='ArrowLeft'){ show(i-1); }
  });

  let touchX=null;
  window.addEventListener('touchstart', e=>{ touchX = e.touches[0].clientX; }, {passive:true});
  window.addEventListener('touchend', e=>{
    if(touchX==null) return;
    const dx = e.changedTouches[0].clientX - touchX;
    if(dx < -40) next();
    if(dx >  40) show(i-1);
    touchX = null;
  });

  // === NEW: Wrap title letters in spans ===
  // This runs once to set up the text for animation
  document.querySelectorAll('.title').forEach(title => {
    title.innerHTML = title.textContent.split('').map((char, i) =>
      // We add an inline style variable for the transition-delay
      // This creates the staggered, letter-by-letter effect
      `<span class="letter" style="--delay: ${i * 35}ms">${char === ' ' ? '&nbsp;' : char}</span>`
    ).join('');
  });
  
  // === NEW: Interactive Particle Trail ===
  const canvas = document.getElementById('particle-canvas');
  const ctx = canvas.getContext('2d');
  let particles = [];
  let canvasW, canvasH;

  function resizeCanvas() {
    canvasW = canvas.width = window.innerWidth;
    canvasH = canvas.height = window.innerHeight;
  }
  window.addEventListener('resize', resizeCanvas, { passive: true });
  resizeCanvas();

  // Helper to get the current slide's theme colors
  function getThemeColor() {
    const style = getComputedStyle(document.documentElement);
    const colors = [
      style.getPropertyValue('--c1').trim(),
      style.getPropertyValue('--c2').trim(),
      style.getPropertyValue('--c3').trim()
    ];
    // Return a random color from the current theme
    return colors[Math.floor(Math.random() * colors.length)];
  }

  function createParticle(e) {
    // Only create particles if the mouse is moving
    if (!e) return;
    
    const x = e.clientX;
    const y = e.clientY;
    const count = 3; // Spawn 3 particles per move
    
    for (let i = 0; i < count; i++) {
      particles.push({
        x: x,
        y: y,
        color: getThemeColor(),
        size: Math.random() * 4 + 2, // 2px to 6px
        vx: Math.random() * 2 - 1,   // -1 to +1
        vy: Math.random() * 2 - 1,   // -1 to +1
        life: Math.random() * 50 + 50 // 50-100 frames
      });
    }
  }
  window.addEventListener('mousemove', createParticle, { passive: true });

  function animationLoop() {
    // 1. Clear the canvas with a semi-transparent BG color
    // This creates the nice "fading" trail effect
    ctx.fillStyle = 'rgba(245, 244, 247, 0.25)'; // Matches --bg2
    ctx.fillRect(0, 0, canvasW, canvasH);

    // 2. Update and draw all particles
    for (let i = particles.length - 1; i >= 0; i--) {
      const p = particles[i];
      
      // Update physics
      p.x += p.vx;
      p.y += p.vy;
      p.life--;
      p.size *= 0.98; // Shrink over time
      
      // Draw particle
      if (p.life > 0 && p.size > 0.5) {
        ctx.beginPath();
        ctx.fillStyle = p.color;
        // Fade out as life decreases
        ctx.globalAlpha = Math.max(0, p.life / 75); 
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fill();
        ctx.globalAlpha = 1.0; // Reset alpha
      } else {
        // Remove dead particle
        particles.splice(i, 1);
      }
    }
    
    // 3. Request next frame
    requestAnimationFrame(animationLoop);
  }
  
  // Start the magic
  animationLoop();

</script>
</body>
</html>
